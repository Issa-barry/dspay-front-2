<div class="beneficiary-list-page">
  <!-- Header mobile-friendly -->
 <div class="page-header">
  <button 
    pButton 
    icon="pi pi-arrow-left" 
    class="p-button-text back-button"
    (click)="goBack()">
  </button>
  <div class="header-content">
    <h1 class="page-title">Mes Bénéficiaires</h1>
    <p class="page-subtitle">Gérez vos bénéficiaires pour vos transferts</p>
  </div>
  <button 
    pButton 
    icon="pi pi-plus"
    class="add-btn"
    (click)="addNew()">
    <span class="btn-label">Ajouter</span>
  </button>
</div>

  <!-- Search bar -->
  <div class="search-bar">
    <span class="p-input-icon-left">
      <i class="pi pi-search"></i>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="searchQuery"
        (ngModelChange)="applyFilter()"
        placeholder="Rechercher..."
        class="search-input">
    </span>
  </div>

  <!-- Beneficiaries list -->
  <div class="beneficiaries-list" *ngIf="filteredBeneficiaries.length > 0">
    <div 
      *ngFor="let beneficiary of filteredBeneficiaries" 
      class="beneficiary-item"
      (click)="editBeneficiary(beneficiary.id)">
      
      <div class="beneficiary-avatar" [style.background-color]="beneficiary.color">
        <span>{{ beneficiary.initials }}</span>
      </div>

      <div class="beneficiary-info">
        <h3 class="beneficiary-name">{{ beneficiary.name }}</h3>
        <p class="beneficiary-phone">
          <i class="pi pi-phone"></i>
          {{ beneficiary.phone }}
        </p>
      </div>

      <!-- Desktop actions -->
      <div class="beneficiary-actions desktop-only" (click)="$event.stopPropagation()">
        <button 
          pButton 
          icon="pi pi-pencil" 
          class="p-button-rounded p-button-text p-button-success"
          (click)="editBeneficiary(beneficiary.id, $event)"
          pTooltip="Modifier"
          tooltipPosition="top">
        </button>
        <button 
          pButton 
          icon="pi pi-trash" 
          class="p-button-rounded p-button-text p-button-danger"
          (click)="deleteBeneficiary(beneficiary, $event)"
          pTooltip="Supprimer"
          tooltipPosition="top">
        </button>
      </div>

      <!-- Mobile chevron -->
      <i class="pi pi-chevron-right mobile-chevron"></i>
    </div>
  </div>

  <!-- Empty state -->
  <div class="empty-state" *ngIf="filteredBeneficiaries.length === 0">
    <i class="pi pi-users empty-icon"></i>
    <h3>Aucun bénéficiaire</h3>
    <p *ngIf="searchQuery">Aucun résultat pour "{{ searchQuery }}"</p>
    <p *ngIf="!searchQuery">Ajoutez votre premier bénéficiaire</p>
    <button 
      pButton 
      label="Ajouter un bénéficiaire" 
      icon="pi pi-plus"
      (click)="addNew()">
    </button>
  </div>

  <!-- Confirmation Dialog -->
  <p-confirmDialog></p-confirmDialog>
  
  <!-- Toast messages -->
  <p-toast></p-toast>
</div>